)<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>WhatsApp Pro - Mobile</title>
    <!-- Modern Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="app">
    <!-- Fixed Footer -->
    <div class="footer" id="main-footer">
        <div class="nav-item active" onclick="showChats()"><i class="fas fa-comment-alt"></i>Chats</div>
        <div class="nav-item" onclick="showGroups()"><i class="fas fa-users"></i>Groups</div>
        <div class="nav-item" onclick="showProfile()"><i class="fas fa-circle-user"></i>Profile</div>
    </div>

    <!-- Step 1: Agreement -->
    <div id="step-1" class="screen active">
        <div class="auth-container">
            <div class="center-area">
                <i class="fab fa-whatsapp fa-5x" style="color: var(--wa-green); margin-bottom: 25px;"></i>
                <h2 style="font-family: 'Poppins';">X Chats </h2>
                <p>Welcome! Real-time messaging with secure private chats & group communities.</p>
            </div>
            <div class="bottom-area">
                <button class="btn" onclick="next(2)">Agree and Continue</button>
                <div onclick="next('login')" class="link-label">LOGIN INSTEAD</div>
            </div>
        </div>
    </div>

    <!-- Login -->
    <div id="step-login" class="screen">
        <div class="auth-container">
            <div class="center-area">
                <h2>Welcome Back</h2>
                <input type="email" id="l-email" placeholder="Email Address">
                <input type="password" id="l-pass" placeholder="Password">
            </div>
            <div class="bottom-area">
                <button class="btn" onclick="handleLogin()">Login Now</button>
                <div onclick="next(1)" class="link-label" style="color:gray">Back</div>
            </div>
        </div>
    </div>

    <!-- Registration Steps 2-6 -->
    <div id="step-2" class="screen"><div class="auth-container"><div class="center-area"><h2>Enter Email</h2><input type="email" id="f-email" placeholder="name@example.com"></div><div class="bottom-area"><button class="btn" onclick="next(3)">Next</button></div></div></div>
    <div id="step-3" class="screen"><div class="auth-container"><div class="center-area"><h2>Password</h2><input type="password" id="f-pass" placeholder="6+ characters"></div><div class="bottom-area"><button class="btn" onclick="next(4)">Next</button></div></div></div>
    <div id="step-4" class="screen"><div class="auth-container"><div class="center-area"><h2>Your Name</h2><input type="text" id="f-name" placeholder="Full Name"></div><div class="bottom-area"><button class="btn" onclick="next(5)">Next</button></div></div></div>
    <div id="step-5" class="screen"><div class="auth-container"><div class="center-area"><h2>Category</h2><input type="text" id="f-cat" placeholder="Business / Personal"></div><div class="bottom-area"><button class="btn" onclick="next(6)">Next</button></div></div></div>
    <div id="step-6" class="screen"><div class="auth-container"><div class="center-area"><h2>Bio / Status</h2><textarea id="f-desc" placeholder="Hey there! minimum 30 words "></textarea></div><div class="bottom-area"><button class="btn" id="signup-btn">Finish & Start</button></div></div></div>

    <!-- Main Screens -->
    <div id="step-7" class="screen">
        <div class="header"><span>X Chats </span><i class="fas fa-sign-out-alt logout-icon" onclick="logout()"></i></div>
        <div class="search-box"><input type="text" id="search-input" oninput="searchUser()" placeholder="Search email..."></div>
        <div class="list-container">
            <div id="search-results"></div>
            <div class="section-title">RECENT CHATS</div>
            <div id="recent-chats"></div>
        </div>
    </div>

    <div id="step-10" class="screen">
        <div class="header"><span>Groups</span><div style="display:flex; gap:15px;"><i class="fas fa-plus-circle" onclick="next('create-group')"></i><i class="fas fa-sign-out-alt" onclick="logout()"></i></div></div>
        <div class="list-container">
            <div class="section-title">Global</div>
            <div class="item-row" onclick="openPublicGroup()"><i class="fas fa-earth-americas icon" style="color:teal"></i><div class="item-info"><b>Public Lounge</b><small>   Everyone can see messages</small></div></div>
            <div class="section-title">Private</div>
            <div id="private-groups-list"></div>
        </div>
    </div>

    <!-- Chat Room -->
    <div id="step-8" class="screen no-footer">
        <div class="header">
            <div style="display:flex; align-items:center;"><i class="fas fa-arrow-left" onclick="goBackFromChat()" style="margin-right:15px;"></i><span id="chat-title">User</span></div>
            <i class="fas fa-user-plus" id="header-add-icon" onclick="next('add-member')" style="display:none;"></i>
        </div>
        <div class="chat-area" id="msg-container"></div>
        <div class="input-box">
            <input type="text" id="msg-input" placeholder="Type a message">
            <button onclick="handleSendMessage()" style="border:none; background:none; color:var(--wa-teal); margin-left:12px; font-size:20px;"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>

    <!-- Profile -->
    <div id="step-9" class="screen" style="background:var(--bg-gray);">
        <div class="header"><span>Profile</span><i class="fas fa-sign-out-alt logout-icon" onclick="logout()"></i></div>
        <div class="list-container" style="background:transparent">
            <div class="profile-card">
                <div class="avatar-lg"><i class="fas fa-user"></i></div>
                <div class="profile-field"><i class="fas fa-user"></i><div><label>NAME</label><input type="text" id="p-name"></div></div>
                <div class="profile-field"><i class="fas fa-briefcase"></i><div><label>CATEGORY</label><input type="text" id="p-cat"></div></div>
                <div class="profile-field"><i class="fas fa-comment-dots"></i><div><label>BIO</label><input type="text" id="p-desc"></div></div>
                <div class="profile-field"><i class="fas fa-envelope"></i><div><label>EMAIL</label><input type="text" id="p-email" readonly style="color:gray"></div></div>
                <div class="profile-field"><i class="fas fa-lock"></i><div><label>PASSWORD</label><input type="text" id="p-pass" readonly style="color:gray"></div></div>
                <button class="btn" onclick="updateProfile()" style="margin-top:20px;">Save Profile</button>
            </div>
        </div>
    </div>

    <!-- Extra Screens -->
    <div id="step-create-group" class="screen"><div class="auth-container"><div class="center-area"><h2>New Group</h2><input type="text" id="g-name" placeholder="Group Name"><textarea id="g-members" placeholder="Friend Emails (comma separated)"></textarea></div><div class="bottom-area"><button class="btn" onclick="handleCreateGroup()">Create</button></div></div></div>
    <div id="step-add-member" class="screen"><div class="auth-container"><div class="center-area"><h2>Add Member</h2><input type="email" id="new-member-email" placeholder="Member Email"></div><div class="bottom-area"><button class="btn" onclick="handleAddMember()">Add</button></div></div></div>
</div>

<!-- Firebase & Logic -->
<script type="module" src="script.js"></script>

</body>
</html>
